{"ast":null,"code":"import React,{Component,useState,useEffect,useCallback,useMemo}from'react';import{Link,useNavigate,useLocation}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import{deleteCartItem,updateCartItem}from'../../../actions/cart.js';import no_product_img from\"../../images/cancel.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function formatRupiah(price){// Convert to fixed 3 decimal places\nlet formattedPrice=parseFloat(price).toFixed(3);// Replace thousand separator (, → .)\nreturn formattedPrice;}const CartItem=/*#__PURE__*/React.memo(_ref=>{var _cartItem$Variant;let{cartItem}=_ref;const dispatch=useDispatch();const{CartItemID}=cartItem;console.log(\"CART ITEM: \",cartItem);const[user,setUser]=useState(JSON.parse(localStorage.getItem(\"profile\")));const handleRemove=useCallback(cartItemID=>{var _user$result,_user$result2,_user$result3;return dispatch(deleteCartItem(cartItemID,user!==null&&user!==void 0&&(_user$result=user.result)!==null&&_user$result!==void 0&&_user$result.UserID?user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2.UserID:user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3.sub));},[cartItem]);const handleUpdate=useCallback((event,cartItemID,cartItem)=>{var _user$result4,_user$result5,_user$result6;return dispatch(updateCartItem(cartItemID,{...cartItem,Quantity:event.target.value},user!==null&&user!==void 0&&(_user$result4=user.result)!==null&&_user$result4!==void 0&&_user$result4.UserID?user===null||user===void 0?void 0:(_user$result5=user.result)===null||_user$result5===void 0?void 0:_user$result5.UserID:user===null||user===void 0?void 0:(_user$result6=user.result)===null||_user$result6===void 0?void 0:_user$result6.sub));},[cartItem]);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-info\",children:[/*#__PURE__*/_jsx(\"img\",{style:{border:\"1px solid #ff523b\",borderRadius:\"5px\"},src:cartItem.Files?cartItem.Files[0].FileData:no_product_img,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"cart-title\",children:[cartItem.Title,(cartItem===null||cartItem===void 0?void 0:(_cartItem$Variant=cartItem.Variant)===null||_cartItem$Variant===void 0?void 0:_cartItem$Variant.length)>0&&` (${cartItem.Variant})`]}),/*#__PURE__*/_jsxs(\"small\",{className:\"cart-price\",children:[\"Rp. \",cartItem.Price,\"0\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"cart-remove\",onClick:()=>{return handleRemove(CartItemID);},children:\"Hapus\"})]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:cartItem.Quantity?cartItem.Quantity:0,onChange:event=>{return handleUpdate(event,CartItemID,cartItem);}})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rp. \",formatRupiah(cartItem.Price*cartItem.Quantity)]})]});});export default CartItem;","map":{"version":3,"names":["React","Component","useState","useEffect","useCallback","useMemo","Link","useNavigate","useLocation","useDispatch","useSelector","deleteCartItem","updateCartItem","no_product_img","jsx","_jsx","jsxs","_jsxs","formatRupiah","price","formattedPrice","parseFloat","toFixed","CartItem","memo","_ref","_cartItem$Variant","cartItem","dispatch","CartItemID","console","log","user","setUser","JSON","parse","localStorage","getItem","handleRemove","cartItemID","_user$result","_user$result2","_user$result3","result","UserID","sub","handleUpdate","event","_user$result4","_user$result5","_user$result6","Quantity","target","value","children","className","style","border","borderRadius","src","Files","FileData","alt","Title","Variant","length","Price","onClick","type","min","onChange"],"sources":["C:/Users/Owner/FrozenEverydayClient/client/src/components/Cart/CartItem/CartItem.js"],"sourcesContent":["import React, { Component, useState, useEffect, useCallback, useMemo } from 'react'\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteCartItem, updateCartItem } from '../../../actions/cart.js';\r\nimport no_product_img from \"../../images/cancel.png\"\r\n\r\nfunction formatRupiah(price) {\r\n  // Convert to fixed 3 decimal places\r\n  let formattedPrice = parseFloat(price).toFixed(3);\r\n  \r\n  // Replace thousand separator (, → .)\r\n  return formattedPrice;\r\n}\r\n\r\nconst CartItem = React.memo(({ cartItem }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {CartItemID} = cartItem;\r\n    console.log(\"CART ITEM: \", cartItem);\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n\r\n    const handleRemove = useCallback((cartItemID) => {\r\n        return dispatch(deleteCartItem(cartItemID, user?.result?.UserID ? user?.result?.UserID : user?.result?.sub))\r\n\r\n    }, [cartItem])\r\n\r\n    const handleUpdate = useCallback((event, cartItemID, cartItem) => {\r\n\r\n      return dispatch(updateCartItem(cartItemID, {...cartItem, Quantity: event.target.value}, user?.result?.UserID ? user?.result?.UserID : user?.result?.sub))\r\n  }, [cartItem])\r\n\r\n    return (\r\n        <tr>\r\n                  <td>\r\n                    <div className=\"cart-info\">\r\n                      <img style={{border: \"1px solid #ff523b\", borderRadius: \"5px\"}}src={cartItem.Files ? cartItem.Files[0].FileData : no_product_img} alt=\"\" />\r\n                      <div>\r\n                        <p className=\"cart-title\">{cartItem.Title}{cartItem?.Variant?.length > 0 && ` (${cartItem.Variant})`}</p>\r\n                        <small className=\"cart-price\">Rp. {cartItem.Price}0</small>\r\n                        <br />\r\n                        <p className=\"cart-remove\" onClick={() => {return handleRemove(CartItemID)}}>Hapus</p>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td><input type=\"number\" min=\"1\" value={cartItem.Quantity ? cartItem.Quantity : 0} onChange={(event) => {return handleUpdate(event, CartItemID, cartItem)}}/></td>\r\n                  <td>Rp. {formatRupiah(cartItem.Price * cartItem.Quantity)}</td>\r\n        </tr>\r\n    )\r\n})\r\n\r\nexport default CartItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}