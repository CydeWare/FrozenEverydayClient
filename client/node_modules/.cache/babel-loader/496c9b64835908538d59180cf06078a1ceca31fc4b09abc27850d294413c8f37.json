{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoThumbnail=_ref=>{let{videoSrc,onClick}=_ref;const videoRef=useRef(null);const[thumbnail,setThumbnail]=useState(null);useEffect(()=>{const captureThumbnail=()=>{const video=videoRef.current;if(!video)return;const canvas=document.createElement(\"canvas\");canvas.width=video.videoWidth;canvas.height=video.videoHeight;const ctx=canvas.getContext(\"2d\");video.currentTime=1;// Capture at 1 second\nvideo.onseeked=()=>{ctx.drawImage(video,0,0,canvas.width,canvas.height);setThumbnail(canvas.toDataURL(\"image/png\"));// Convert to base64\n};};if(videoRef.current){videoRef.current.addEventListener(\"loadeddata\",captureThumbnail);}return()=>{if(videoRef.current){videoRef.current.removeEventListener(\"loadeddata\",captureThumbnail);}};},[videoSrc]);return/*#__PURE__*/_jsxs(\"div\",{className:\"small-img-col\",children:[thumbnail?/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"Video Thumbnail\",onClick:onClick}):/*#__PURE__*/_jsx(\"div\",{className:\"loader3\"}),/*#__PURE__*/_jsx(\"video\",{crossorigin:\"anonymous\",ref:videoRef,style:{display:\"none\"},children:/*#__PURE__*/_jsx(\"source\",{src:videoSrc,type:\"video/mp4\"})})]});};export default VideoThumbnail;","map":{"version":3,"names":["useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","VideoThumbnail","_ref","videoSrc","onClick","videoRef","thumbnail","setThumbnail","captureThumbnail","video","current","canvas","document","createElement","width","videoWidth","height","videoHeight","ctx","getContext","currentTime","onseeked","drawImage","toDataURL","addEventListener","removeEventListener","className","children","src","alt","crossorigin","ref","style","display","type"],"sources":["C:/Users/Owner/FrozenEverydayClient/client/src/components/VideoThumbnail/VideoThumbnail.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst VideoThumbnail = ({ videoSrc, onClick }) => {\r\n  const videoRef = useRef(null);\r\n  const [thumbnail, setThumbnail] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const captureThumbnail = () => {\r\n      const video = videoRef.current;\r\n      if (!video) return;\r\n\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      const ctx = canvas.getContext(\"2d\");\r\n\r\n      video.currentTime = 1; // Capture at 1 second\r\n\r\n      video.onseeked = () => {\r\n        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        setThumbnail(canvas.toDataURL(\"image/png\")); // Convert to base64\r\n      };\r\n    };\r\n\r\n    if (videoRef.current) {\r\n      videoRef.current.addEventListener(\"loadeddata\", captureThumbnail);\r\n    }\r\n\r\n    return () => {\r\n      if (videoRef.current) {\r\n        videoRef.current.removeEventListener(\"loadeddata\", captureThumbnail);\r\n      }\r\n    };\r\n  }, [videoSrc]);\r\n\r\n  return (\r\n    <div className=\"small-img-col\">\r\n      \r\n      {thumbnail ? (\r\n        <img\r\n          src={thumbnail}\r\n          alt=\"Video Thumbnail\"\r\n          \r\n          onClick={onClick}\r\n        />\r\n      ) : (\r\n        <div className=\"loader3\"></div>\r\n      )}\r\n      <video crossorigin=\"anonymous\" ref={videoRef} style={{ display: \"none\" }}>\r\n        <source src={videoSrc} type=\"video/mp4\" />\r\n      </video>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoThumbnail;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAA2B,IAA1B,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAC3C,KAAM,CAAAG,QAAQ,CAAGV,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEhDF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,KAAK,CAAGJ,QAAQ,CAACK,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZ,KAAM,CAAAE,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,KAAK,CAAGL,KAAK,CAACM,UAAU,CAC/BJ,MAAM,CAACK,MAAM,CAAGP,KAAK,CAACQ,WAAW,CACjC,KAAM,CAAAC,GAAG,CAAGP,MAAM,CAACQ,UAAU,CAAC,IAAI,CAAC,CAEnCV,KAAK,CAACW,WAAW,CAAG,CAAC,CAAE;AAEvBX,KAAK,CAACY,QAAQ,CAAG,IAAM,CACrBH,GAAG,CAACI,SAAS,CAACb,KAAK,CAAE,CAAC,CAAE,CAAC,CAAEE,MAAM,CAACG,KAAK,CAAEH,MAAM,CAACK,MAAM,CAAC,CACvDT,YAAY,CAACI,MAAM,CAACY,SAAS,CAAC,WAAW,CAAC,CAAC,CAAE;AAC/C,CAAC,CACH,CAAC,CAED,GAAIlB,QAAQ,CAACK,OAAO,CAAE,CACpBL,QAAQ,CAACK,OAAO,CAACc,gBAAgB,CAAC,YAAY,CAAEhB,gBAAgB,CAAC,CACnE,CAEA,MAAO,IAAM,CACX,GAAIH,QAAQ,CAACK,OAAO,CAAE,CACpBL,QAAQ,CAACK,OAAO,CAACe,mBAAmB,CAAC,YAAY,CAAEjB,gBAAgB,CAAC,CACtE,CACF,CAAC,CACH,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd,mBACEH,KAAA,QAAK0B,SAAS,CAAC,eAAe,CAAAC,QAAA,EAE3BrB,SAAS,cACRR,IAAA,QACE8B,GAAG,CAAEtB,SAAU,CACfuB,GAAG,CAAC,iBAAiB,CAErBzB,OAAO,CAAEA,OAAQ,CAClB,CAAC,cAEFN,IAAA,QAAK4B,SAAS,CAAC,SAAS,CAAM,CAC/B,cACD5B,IAAA,UAAOgC,WAAW,CAAC,WAAW,CAACC,GAAG,CAAE1B,QAAS,CAAC2B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAN,QAAA,cACvE7B,IAAA,WAAQ8B,GAAG,CAAEzB,QAAS,CAAC+B,IAAI,CAAC,WAAW,CAAE,CAAC,CACrC,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}