{"ast":null,"code":"import _objectSpread from\"C:/Users/Owner/FrozenEverydayClient/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/Owner/FrozenEverydayClient/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"PasswordHash\"],_excluded2=[\"PasswordHash\"];import*as api from\"../API/index.js\";import{AUTH,ERROR,LOGOUT,NOERROR}from\"../constants/actionTypes\";//We use this so it will give an error if we mispell something\nexport const signin=(formData,navigate)=>async dispatch=>{try{// log in the user\nconsole.log(\"Signing in...\");const{data}=await api.signIn(formData);const{result}=data;const{PasswordHash}=result,safeResult=_objectWithoutProperties(result,_excluded);const safeData=_objectSpread(_objectSpread({},data),{},{result:safeResult});dispatch({type:AUTH,data});dispatch({type:NOERROR});localStorage.setItem(\"profile\",JSON.stringify(safeData));navigate(\"/\");}catch(error){console.log(error.response.data.message);dispatch({type:ERROR,data:error.response.data.message});}};export const signup=(formData,navigate)=>async dispatch=>{try{// sign up the user\nconsole.log(\"Signing up...\");const{data}=await api.signUp(formData);const{result}=data;const{PasswordHash}=result,safeResult=_objectWithoutProperties(result,_excluded2);const safeData=_objectSpread(_objectSpread({},data),{},{result:safeResult});dispatch({type:AUTH,data});dispatch({type:NOERROR});localStorage.setItem(\"profile\",JSON.stringify(safeData));navigate(\"/\");}catch(error){console.log(error.response.data.message);dispatch({type:ERROR,data:error.response.data.message});}};export const sign=(result,navigate)=>async dispatch=>{try{// sign up the user\nconst{data}=await api.sign(result);// const { result } = data;\n// const { PasswordHash, ...safeResult } = result;\n// const safeData = { ...data, result: safeResult };\n// console.log(safeUser);\n// { UserID: 1, FullName: \"John Doe\", Email: \"john@example.com\" }\ndispatch({type:AUTH,data});dispatch({type:NOERROR});localStorage.setItem(\"profile\",JSON.stringify(data));navigate(\"/\");}catch(error){console.log(error.response.data.message);dispatch({type:ERROR,data:error.response.data.message});}};export const logout=navigate=>async dispatch=>{try{dispatch({type:LOGOUT});localStorage.clear();navigate(\"/\");}catch(error){console.log(error.response.data.message);dispatch({type:ERROR,data:error.response.data.message});}};","map":{"version":3,"names":["api","AUTH","ERROR","LOGOUT","NOERROR","signin","formData","navigate","dispatch","console","log","data","signIn","result","PasswordHash","safeResult","_objectWithoutProperties","_excluded","safeData","_objectSpread","type","localStorage","setItem","JSON","stringify","error","response","message","signup","signUp","_excluded2","sign","logout","clear"],"sources":["C:/Users/Owner/FrozenEverydayClient/client/src/actions/auth.js"],"sourcesContent":["import * as api from \"../API/index.js\";\r\nimport { AUTH, ERROR, LOGOUT, NOERROR} from \"../constants/actionTypes\"; //We use this so it will give an error if we mispell something\r\n\r\nexport const signin = (formData, navigate) => async (dispatch) => {\r\n    try {\r\n        // log in the user\r\n\r\n        console.log(\"Signing in...\");\r\n        const { data } = await api.signIn(formData);\r\n\r\n        \r\n        const { result } = data;\r\n        const { PasswordHash, ...safeResult } = result;\r\n        const safeData = { ...data, result: safeResult };\r\n\r\n        dispatch({ type: AUTH, data })\r\n        dispatch({ type: NOERROR })\r\n\r\n        localStorage.setItem(\"profile\", JSON.stringify(safeData));\r\n\r\n        navigate(\"/\")\r\n    } catch (error){\r\n        console.log(error.response.data.message)\r\n        dispatch({ type: ERROR, data: error.response.data.message})\r\n    }\r\n}\r\n\r\nexport const signup = (formData, navigate) => async (dispatch) => {\r\n    try {\r\n        // sign up the user\r\n        console.log(\"Signing up...\");\r\n        const { data } = await api.signUp(formData);\r\n\r\n        \r\n        const { result } = data;\r\n        const { PasswordHash, ...safeResult } = result;\r\n        const safeData = { ...data, result: safeResult };\r\n\r\n        dispatch({ type: AUTH, data })\r\n        dispatch({ type: NOERROR });\r\n\r\n        localStorage.setItem(\"profile\", JSON.stringify(safeData));\r\n\r\n        navigate(\"/\")\r\n    } catch (error){\r\n        console.log(error.response.data.message)\r\n        dispatch({ type: ERROR, data: error.response.data.message})\r\n    }\r\n}\r\n\r\nexport const sign = (result, navigate) => async (dispatch) => {\r\n    try {\r\n        // sign up the user\r\n        const { data } = await api.sign(result);\r\n\r\n        // const { result } = data;\r\n        // const { PasswordHash, ...safeResult } = result;\r\n        // const safeData = { ...data, result: safeResult };\r\n\r\n        // console.log(safeUser);\r\n\r\n        // { UserID: 1, FullName: \"John Doe\", Email: \"john@example.com\" }\r\n\r\n\r\n        dispatch({ type: AUTH, data })\r\n        dispatch({ type: NOERROR })\r\n\r\n        localStorage.setItem(\"profile\", JSON.stringify(data));\r\n\r\n        navigate(\"/\")\r\n    } catch (error){\r\n        console.log(error.response.data.message)\r\n        dispatch({ type: ERROR, data: error.response.data.message})\r\n    }\r\n}\r\n\r\nexport const logout = (navigate) => async (dispatch) => {\r\n    try {\r\n        \r\n        dispatch({ type: LOGOUT })\r\n\r\n        localStorage.clear();\r\n\r\n        navigate(\"/\")\r\n    } catch (error){\r\n        console.log(error.response.data.message)\r\n        dispatch({ type: ERROR, data: error.response.data.message})\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}