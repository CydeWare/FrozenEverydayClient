{"ast":null,"code":"import _objectSpread from\"C:/Users/Owner/FrozenEverydayClient/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{Component,useEffect,useState,useRef}from\"react\";import{Link,useSearchParams,useParams,useNavigate,useLocation}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{getProducts}from\"../../actions/products.js\";import{getFilesByProductID,getAllFiles,deleteAllFiles}from\"../../actions/files.js\";import{getAllVariantsByProductID,deleteAllVariants}from\"../../actions/variants.js\";// import { CircularProgress } from \"@material-ui/core\";\nimport Navbar from\"../Navbar/Navbar\";import{createCartItem,getCartItems}from\"../../actions/cart.js\";import*as api from\"../../API/index.js\";import Footer from\"../Footer/Footer.js\";import VideoThumbnail from\"../VideoThumbnail/VideoThumbnail.js\";// import Form from \"../Form/Form.js\";\n// import Navbar from \"../Navbar/Navbar.js\";\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetails=()=>{var _files$imageIndex,_files$imageIndex2;const[isVideoPlaying,setIsVideoPlaying]=useState(true);const[imageIndex,setImageIndex]=useState(0);const[user,setUser]=useState(JSON.parse(localStorage.getItem(\"profile\")));const[selectedVariant,setSelectedVariant]=useState(\"\");const[product,setProduct]=useState({});const[files,setFiles]=useState([]);const[loadingFiles,setLoadingFiles]=useState(true);const[variantPrice,setVariantPrice]=useState(0);const[variants,setVariants]=useState([]);// const [numberRating, setNumberRating] = useState(0);\nconst location=useLocation();const products=useSelector(state=>{return state.products.products;});const productFiles=useSelector(state=>{return state.files;});const variantsState=useSelector(state=>{return state.variants;});const dispatch=useDispatch();const navigate=useNavigate();const params=useParams();const id=params.id;// useEffect(() => {\n//   dispatch(deleteAllFiles());\n// }, [])\nuseEffect(()=>{console.log(\"PARAMS ID: \",id);setVariants([]);dispatch({type:\"DELETE_ALL_VARIANTS\"});// dispatch({ type: \"DELETE_ALL_FILES\" });\nconst fetchFiles=()=>{// dispatch(deleteAllFiles());\ndispatch(getAllFiles());// Ensures delete finishes before fetching new files\nsetLoadingFiles(false);};const fetchVariants=()=>{setVariants([]);dispatch(deleteAllVariants());dispatch(getAllVariantsByProductID(id));};setSelectedVariant(\"\");// dispatch();\ndispatch(getProducts());// dispatch(getAllVariantsByProductID(id));\nfetchFiles();fetchVariants();},[dispatch,id,location]);useEffect(()=>{dispatch(deleteAllVariants());},[id]);useEffect(()=>{const productToFind=products.length>0?products.find(product=>{return product.ProductID===id;}):null;setProduct(productToFind);},[products]);useEffect(()=>{if(!loadingFiles){const filesFiltered=productFiles.filter(file=>file.ProductID===id);setFiles(filesFiltered);}},[productFiles,loadingFiles]);useEffect(()=>{if((variantsState===null||variantsState===void 0?void 0:variantsState.length)>0){setVariants(variantsState);}},[variantsState]);useEffect(()=>{if(variants.length>0){const variantToFind=variants===null||variants===void 0?void 0:variants.find(variant=>{return(variant===null||variant===void 0?void 0:variant.VariantName)===selectedVariant;});console.log(\"VARIANT FOUND: \",variantToFind);console.log(\"Variant price: \",parseFloat(variantToFind===null||variantToFind===void 0?void 0:variantToFind.AdditionalPrice));console.log(\"Product price: \",product===null||product===void 0?void 0:product.Price);console.log(\"Type of variant price: \",typeof(variantToFind===null||variantToFind===void 0?void 0:variantToFind.AdditionalPrice));console.log(\"Type of product price: \",typeof(product===null||product===void 0?void 0:product.Price));if(variantToFind){setVariantPrice(variantToFind!==null&&variantToFind!==void 0&&variantToFind.AdditionalPrice?parseFloat(variantToFind===null||variantToFind===void 0?void 0:variantToFind.AdditionalPrice):0);}}},[selectedVariant]);useEffect(()=>{if(variants.length>0){setSelectedVariant(variants[0].VariantName?variants[0].VariantName:\"\");}else{// setVariants([]);\nsetSelectedVariant(\"\");}},[variants]);// setNumberRating(roundToHalf(product?.Rating));\nconsole.log(\"ID: \",id);console.log(\"Product: \",product);// console.log(\"Files after fetching:\", files);\n// console.log(\"Variants after fetching: \", variants);\nconst[quantity,setQuantity]=useState(1);const[emailMsg,setEmailMsg]=useState(\"\");function importAll(r){let images={};r.keys().map((item,index)=>{images[item.replace(\"./\",\"\")]=r(item);});return images;}const images=importAll(require.context(\"../images\",false,/\\.(png|jpe?g|svg|webp|avif)$/));if(!product){console.log(\"NO SUCH PRODUCTS WITH ID: \"+id);}function handleCart(e){var _user$result,_user$result2,_user$result3,_user$result4,_user$result5,_user$result6;e.preventDefault();console.log(\"Total price: \",parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice);const cartItem={ProductID:product.ProductID,UserID:user!==null&&user!==void 0&&(_user$result=user.result)!==null&&_user$result!==void 0&&_user$result.UserID?user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2.UserID:user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3.sub,SelectedFile:files,Title:product.Title,Price:parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice,Quantity:quantity,Subtotal:(parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice)*quantity,Variant:selectedVariant};setSelectedVariant(\"\");dispatch({type:\"DELETE_ALL_VARIANTS\"});dispatch(createCartItem(_objectSpread({},cartItem),user!==null&&user!==void 0&&(_user$result4=user.result)!==null&&_user$result4!==void 0&&_user$result4.UserID?user===null||user===void 0?void 0:(_user$result5=user.result)===null||_user$result5===void 0?void 0:_user$result5.UserID:user===null||user===void 0?void 0:(_user$result6=user.result)===null||_user$result6===void 0?void 0:_user$result6.sub));// dispatch(getCartItems());\nnavigate(\"/cart\");}// function handleDelete() {\n//   dispatch(deleteProduct(id));\n//   navigate(\"/products\");\n// }\nconst functions={smallImg0,smallImg1,smallImg2,smallImg3};const doFunction=num=>{const func=functions[\"smallImg\".concat(num)];return func?func():/*#__PURE__*/_jsx(\"p\",{children:\"Image not found\"});};const changeVideoToImage=i=>{setImageIndex(i);if(isVideoPlaying===true){setIsVideoPlaying(false);setTimeout(()=>doFunction(i),150);}else{doFunction(i);}};//  const playVideo = () => {\n//     // setI sVideoPlaying(!isVideoPlaying);\n//   };\nfunction roundToHalf(num){return Math.round(num*2)/2;}function sanitizeForURL(str){return str.replace(/[^a-zA-Z0-9-_\\. ]/g,'');}function cleanForWhatsAppAndEmail(str){// Replace & with \"and\"\nlet cleaned=str.replace(/&/g,'and');// Remove unwanted special characters but keep %0A, :, !, ?, and other WhatsApp/email-friendly characters\ncleaned=cleaned.replace(/[^a-zA-Z0-9 @._#%\\-:!?]/g,'');return cleaned;}const generateWhatsAppMessage=totalPrice=>{var _user$result7,_user$result8,_user$result9,_user$result10;const phoneNumber=\"6289507932832\";// Replace with merchant's WhatsApp number (use international format)\nlet message=\"Halo, saya mau pesan produk:%0A%0A- \".concat(product===null||product===void 0?void 0:product.Title,\" \").concat(selectedVariant?\"(\".concat(selectedVariant,\")\"):\"\",\"- \").concat(quantity,\" pcs - Rp. \").concat(formatRupiah(totalPrice),\"%0A%0A\");// WhatsApp uses %0A for\n// line breaks\nmessage+=\"*Total Harga: Rp. \".concat(formatRupiah(totalPrice),\"*%0A%0ASaya dari negara \").concat(user===null||user===void 0?void 0:(_user$result7=user.result)===null||_user$result7===void 0?void 0:_user$result7.Country,\" dan minta produk ini dikirim ke kota \").concat(user===null||user===void 0?void 0:(_user$result8=user.result)===null||_user$result8===void 0?void 0:_user$result8.City,\" dengan alamat \").concat(user===null||user===void 0?void 0:(_user$result9=user.result)===null||_user$result9===void 0?void 0:_user$result9.Address,\" dan postal code \").concat(user===null||user===void 0?void 0:(_user$result10=user.result)===null||_user$result10===void 0?void 0:_user$result10.PostalCode,\".%0A%0ATerima Kasih!\");message=cleanForWhatsAppAndEmail(message);console.log(message);// Generate the WhatsApp URL\nconst whatsappUrl=\"https://wa.me/\".concat(phoneNumber,\"?text=\").concat(message);// Redirect to WhatsApp\nwindow.open(whatsappUrl,\"_blank\");};const sendOrder=async totalPrice=>{try{setEmailMsg(\"Mohon tunggu, sedang mengirim email...\");// const response = await fetch(\"http://localhost:5000/order/\", {\n//     method: \"POST\",\n//     headers: { \"Content-Type\": \"application/json\" },\n//     body: JSON.stringify({cartItems: cartItems, user: user?.result, totalPrice: totalPrice}),\n// });\nconst productItemsArr=[_objectSpread(_objectSpread({},product),{},{Price:parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice,Quantity:quantity,Variant:selectedVariant})];console.log(\"Product Items Array: \",productItemsArr);const response=await api.order({cartItems:productItemsArr,user:user===null||user===void 0?void 0:user.result,totalPrice:totalPrice});console.log(response);const data=response.data;console.log(data.message);alert(data.message);setEmailMsg(data.message);}catch(error){alert(\"Ada masalah ketika mengirimkan email. Mohon coba lagi.\");setEmailMsg(\"Ada masalah ketika mengirimkan email. Mohon coba lagi.\");console.error(\"Error sending order:\",error);}};const handleVariantChange=event=>{setSelectedVariant(event.target.value);// console.log(\"Selected:\", event.target.value);\n};function formatRupiah(price){// Convert to fixed 3 decimal places\nlet formattedPrice=parseFloat(price).toFixed(3);// Replace thousand separator (, → .)\nreturn formattedPrice;}function calculateMaxHeight(length,width){if(length<4){return\"117px\";}let maxHeightString;let maxHeight=width-19*(length-3);if(length>6){maxHeight=maxHeight+19;maxHeightString=maxHeight.toString()+\"px\";return maxHeightString;}maxHeightString=maxHeight.toString()+\"px\";return maxHeightString;}// const [maxHeight, setMaxHeight] = useState(117);\n// useEffect(() => {\n//   if (files.length > 0) {\n//     const maxPerRow = 5; // Max columns per row\n//     const rows = Math.ceil(files.length / maxPerRow);\n//     setMaxHeight(Math.max(60, 150 / rows)); // Scale height based on row count\n//   }\n// }, [files]);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"UTF-8\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"styles.css\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossOrigin:\"\"}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"overlay\",onClick:()=>overlayFunc()}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-box\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-window-close-o close-icon\",\"aria-hidden\":\"true\",onClick:()=>closeBtnFunc()}),/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-whatsapp whatsapp\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Terkirim\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Anda akan diarahkan ke akun WhatsApp penjual. Silahkan kirimkan pesan WhatsApp ke penjual.\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"close-btn\",onClick:()=>closeBtnFunc(),children:\"Tutup\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>generateWhatsAppMessage((parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice)*quantity),children:\"Kirim ulang\"})]}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:\"10px\"},children:\"Atau kirim lewat cara lain:\"}),/*#__PURE__*/_jsx(\"img\",{style:{width:\"100px\",marginTop:\"10px\",marginBottom:\"10px\"},src:images[\"gmail-logo-2.png\"],alt:\"email\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{class:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>sendOrder((parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice)*quantity),children:\"Kirim lewat Email\"})}),emailMsg.length>0&&/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:\"10px\",fontWeight:\"500\",color:\"#000\",textAlign:\"center\"},children:emailMsg})]})]}),/*#__PURE__*/_jsx(Navbar,{}),product?/*#__PURE__*/_jsx(\"div\",{className:\"small-container single-product\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[product&&(product!==null&&product!==void 0&&product.Video?isVideoPlaying?/*#__PURE__*/_jsxs(\"video\",{crossorigin:\"anonymous\",className:\"video-player\",controls:true,children:[/*#__PURE__*/_jsx(\"source\",{src:product.Video,type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}):files.length>0?/*#__PURE__*/_jsx(\"img\",{src:(_files$imageIndex=files[imageIndex])===null||_files$imageIndex===void 0?void 0:_files$imageIndex.FileData,width:\"100%\",id:\"ProductImg\",alt:\"\"}):/*#__PURE__*/_jsx(\"div\",{className:\"loader2\"}):files.length>0?/*#__PURE__*/_jsx(\"img\",{src:(_files$imageIndex2=files[imageIndex])===null||_files$imageIndex2===void 0?void 0:_files$imageIndex2.FileData,width:\"100%\",id:\"ProductImg\",alt:\"\"}):/*#__PURE__*/_jsx(\"div\",{className:\"loader2\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"small-img-row\",children:[product&&(product===null||product===void 0?void 0:product.Video)&&(files===null||files===void 0?void 0:files.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"small-img-col video-container\",onClick:()=>setIsVideoPlaying(true),children:[/*#__PURE__*/_jsx(\"div\",{class:\"play-icon\"}),/*#__PURE__*/_jsx(\"video\",{crossorigin:\"anonymous\",className:\"bottom-video-player\",preload:\"metadata\",children:/*#__PURE__*/_jsx(\"source\",{src:product===null||product===void 0?void 0:product.Video,type:\"video/mp4\"})})]}),files.length>0?files.map((file,i)=>{return/*#__PURE__*/_jsx(\"div\",{className:\"small-img-col\",children:/*#__PURE__*/_jsx(\"img\",{src:file===null||file===void 0?void 0:file.FileData,width:\"100%\",alt:\"\",className:\"small-img\",onClick:()=>(file===null||file===void 0?void 0:file.FileData)&&changeVideoToImage(i)})},i);}):/*#__PURE__*/_jsx(\"div\",{className:\"small-img-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader3\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Frozen Everyday\"}),/*#__PURE__*/_jsx(\"h1\",{children:product===null||product===void 0?void 0:product.Title}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Rp. \",formatRupiah((parseFloat(product===null||product===void 0?void 0:product.Price)+variantPrice)*quantity)]}),variants.length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:\"10px\",fontSize:\"16px\"},children:[\"Pilih varian:\",\" \"]}),variants.length>0&&variants.map((variant,i)=>{return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"choice\",id:\"variant\".concat(i),checked:selectedVariant===variant.VariantName,value:variant.VariantName// style={{ marginLeft: i === 0 ? \"0px\" : \"12.5px\" }}\n,style:{marginRight:\"12.5px\"},onChange:e=>handleVariantChange(e)}),/*#__PURE__*/_jsx(\"label\",{for:\"variant\".concat(i)// style={{ marginLeft: i === 0 ? \"0px\" : \"12.5px\" }}\n// style={{ gap: \"50px\" }}\n,style:{marginRight:\"12.5px\"},children:variant.VariantName})]});}),/*#__PURE__*/_jsxs(\"span\",{className:\"input-container2\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Kuantitas: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\"// defaultValue=\"1\"\n,min:\"1\",value:quantity,id:\"quantity\",onChange:event=>{return setQuantity(event.target.value<1?1:event.target.value);}})]}),user?/*#__PURE__*/_jsxs(\"span\",{className:\"btn-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"cart-btn\",onClick:e=>handleCart(e),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-cart-plus\",\"aria-hidden\":\"true\"}),\" \",\"Masukkan Keranjang\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"btn\",onClick:()=>{showButton();return generateWhatsAppMessage((product===null||product===void 0?void 0:product.Price)*quantity);},children:\"Beli Sekarang\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-warning-container\",style:{marginTop:\"50px\",marginBottom:\"70px\",display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"p\",{className:\"sign-in-warning\",style:{fontSize:\"20px\",padding:\"5px 10px 5px 10px\",textAlign:\"center\"},children:\"Tolong Sign In untuk Membelikan Makanan Ini!\"}),/*#__PURE__*/_jsx(Link,{to:\"/account\",children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"16px\",padding:\"7.5px 15px 7.5px 15px\",marginRight:\"20px\"},className:\"btn\",children:\"Sign In\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rating product-details\",children:product!==null&&product!==void 0&&product.Rating?(product===null||product===void 0?void 0:product.Rating)===\"0.00\"?/*#__PURE__*/_jsxs(\"div\",{className:\"rating product-details\",style:{marginBottom:\"40px\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"24px\",color:\"#222222\",fontWeight:\"550\",marginRight:\"2px\"},children:\"Belum ada penilaian\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"rating-num\",style:{marginLeft:\"2px\",fontSize:\"16px\"},children:[\"(\",product!==null&&product!==void 0&&product.ItemsSold?product===null||product===void 0?void 0:product.ItemsSold:0,\" terjual)\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"rating product-details\",children:[(()=>{let td=[];for(let i=0;i<Math.floor(roundToHalf(product===null||product===void 0?void 0:product.Rating));i++){td.push(/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"},i));}return td;})(),roundToHalf(product===null||product===void 0?void 0:product.Rating)%1!==0&&/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-star-half-o\"}),(()=>{let td=[];for(let i=0;i<5-Math.ceil(roundToHalf(product===null||product===void 0?void 0:product.Rating));i++){td.push(/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-o\"}));}return td;})(),/*#__PURE__*/_jsxs(\"p\",{className:\"rating-num\",children:[\"(\",product===null||product===void 0?void 0:product.ItemsSold,\")\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"rating product-details\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-o\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-o\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-o\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-o\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-o\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"rating-num\",children:[\"(\",product!==null&&product!==void 0&&product.ItemsSold?product===null||product===void 0?void 0:product.ItemsSold:0,\")\"]})]})})]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"loader\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"50px\"}}),/*#__PURE__*/_jsx(Footer,{})]});function smallImg0(){// setIsVideoPlaying(false);\nlet ProductImg=document.getElementById(\"ProductImg\");let SmallImg=document.getElementsByClassName(\"small-img\");//an array\nif(!SmallImg[0].src){return;}ProductImg.src=SmallImg[0].src;}function smallImg1(){// setIsVideoPlaying(false);\nlet ProductImg=document.getElementById(\"ProductImg\");let SmallImg=document.getElementsByClassName(\"small-img\");//an array\nif(!SmallImg[1].src){return;}ProductImg.src=SmallImg[1].src;}function smallImg2(){// setIsVideoPlaying(false);\nlet ProductImg=document.getElementById(\"ProductImg\");let SmallImg=document.getElementsByClassName(\"small-img\");//an array\nif(!SmallImg[2].src){return;}ProductImg.src=SmallImg[2].src;}function smallImg3(){// setIsVideoPlaying(false);\nlet ProductImg=document.getElementById(\"ProductImg\");let SmallImg=document.getElementsByClassName(\"small-img\");//an array\nif(!SmallImg[3].src){return;}ProductImg.src=SmallImg[3].src;}function showButton(){const section=document.querySelector(\"section\"),overlay=document.querySelector(\".overlay\"),showBtn=document.querySelector(\".show-modal\"),closeBtn=document.querySelector(\".close-btn\");setEmailMsg(\"\");section.classList.add(\"active\");section.style.zIndex=\"8\";}function overlayFunc(){const section=document.querySelector(\"section\"),overlay=document.querySelector(\".overlay\"),showBtn=document.querySelector(\".show-modal\"),closeBtn=document.querySelector(\".close-btn\");setEmailMsg(\"\");section.classList.remove(\"active\");section.style.zIndex=\"-8\";}function closeBtnFunc(){const section=document.querySelector(\"section\"),overlay=document.querySelector(\".overlay\"),showBtn=document.querySelector(\".show-modal\"),closeBtn=document.querySelector(\".close-btn\");setEmailMsg(\"\");section.classList.remove(\"active\");section.style.zIndex=\"-8\";}};export default ProductDetails;","map":{"version":3,"names":["React","Component","useEffect","useState","useRef","Link","useSearchParams","useParams","useNavigate","useLocation","useSelector","useDispatch","getProducts","getFilesByProductID","getAllFiles","deleteAllFiles","getAllVariantsByProductID","deleteAllVariants","Navbar","createCartItem","getCartItems","api","Footer","VideoThumbnail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetails","_files$imageIndex","_files$imageIndex2","isVideoPlaying","setIsVideoPlaying","imageIndex","setImageIndex","user","setUser","JSON","parse","localStorage","getItem","selectedVariant","setSelectedVariant","product","setProduct","files","setFiles","loadingFiles","setLoadingFiles","variantPrice","setVariantPrice","variants","setVariants","location","products","state","productFiles","variantsState","dispatch","navigate","params","id","console","log","type","fetchFiles","fetchVariants","productToFind","length","find","ProductID","filesFiltered","filter","file","variantToFind","variant","VariantName","parseFloat","AdditionalPrice","Price","quantity","setQuantity","emailMsg","setEmailMsg","importAll","r","images","keys","map","item","index","replace","require","context","handleCart","e","_user$result","_user$result2","_user$result3","_user$result4","_user$result5","_user$result6","preventDefault","cartItem","UserID","result","sub","SelectedFile","Title","Quantity","Subtotal","Variant","_objectSpread","functions","smallImg0","smallImg1","smallImg2","smallImg3","doFunction","num","func","concat","children","changeVideoToImage","i","setTimeout","roundToHalf","Math","round","sanitizeForURL","str","cleanForWhatsAppAndEmail","cleaned","generateWhatsAppMessage","totalPrice","_user$result7","_user$result8","_user$result9","_user$result10","phoneNumber","message","formatRupiah","Country","City","Address","PostalCode","whatsappUrl","window","open","sendOrder","productItemsArr","response","order","cartItems","data","alert","error","handleVariantChange","event","target","value","price","formattedPrice","toFixed","calculateMaxHeight","width","maxHeightString","maxHeight","toString","charSet","name","content","rel","href","crossOrigin","className","class","onClick","overlayFunc","closeBtnFunc","style","marginTop","marginBottom","src","alt","fontWeight","color","textAlign","Video","crossorigin","controls","FileData","preload","fontSize","checked","marginRight","onChange","for","min","showButton","display","flexDirection","padding","to","Rating","marginLeft","ItemsSold","td","floor","push","ceil","ProductImg","document","getElementById","SmallImg","getElementsByClassName","section","querySelector","overlay","showBtn","closeBtn","classList","add","zIndex","remove"],"sources":["C:/Users/Owner/FrozenEverydayClient/client/src/components/ProductDetails/ProductDetails.js"],"sourcesContent":["import React, { Component, useEffect, useState, useRef } from \"react\";\r\nimport {\r\n  Link,\r\n  useSearchParams,\r\n  useParams,\r\n  useNavigate,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getProducts } from \"../../actions/products.js\";\r\nimport {\r\n  getFilesByProductID,\r\n  getAllFiles,\r\n  deleteAllFiles,\r\n} from \"../../actions/files.js\";\r\nimport { getAllVariantsByProductID, deleteAllVariants } from \"../../actions/variants.js\";\r\n// import { CircularProgress } from \"@material-ui/core\";\r\nimport Navbar from \"../Navbar/Navbar\";\r\nimport { createCartItem, getCartItems } from \"../../actions/cart.js\";\r\nimport * as api from \"../../API/index.js\";\r\nimport Footer from \"../Footer/Footer.js\";\r\nimport VideoThumbnail from \"../VideoThumbnail/VideoThumbnail.js\";\r\n// import Form from \"../Form/Form.js\";\r\n// import Navbar from \"../Navbar/Navbar.js\";\r\n\r\nconst ProductDetails = () => {\r\n  const [isVideoPlaying, setIsVideoPlaying] = useState(true);\r\n  const [imageIndex, setImageIndex] = useState(0);\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n  const [selectedVariant, setSelectedVariant] = useState(\"\");\r\n  const [product, setProduct] = useState({});\r\n  const [files, setFiles] = useState([]);\r\n  const [loadingFiles, setLoadingFiles] = useState(true);\r\n  const [variantPrice, setVariantPrice] = useState(0);\r\n  const [variants, setVariants] = useState([]);\r\n\r\n  // const [numberRating, setNumberRating] = useState(0);\r\n\r\n  const location = useLocation();\r\n\r\n  const products = useSelector((state) => {\r\n    return state.products.products;\r\n  });\r\n\r\n  const productFiles = useSelector((state) => {\r\n    return state.files;\r\n  });\r\n\r\n  const variantsState = useSelector((state) => {\r\n    return state.variants;\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const params = useParams();\r\n  const id = params.id;\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(deleteAllFiles());\r\n  // }, [])\r\n\r\n  useEffect(() => {\r\n    console.log(\"PARAMS ID: \", id);\r\n\r\n    setVariants([]);\r\n\r\n    dispatch({ type: \"DELETE_ALL_VARIANTS\" });\r\n    // dispatch({ type: \"DELETE_ALL_FILES\" });\r\n    \r\n    const fetchFiles = () => {\r\n      // dispatch(deleteAllFiles());\r\n      dispatch(getAllFiles()); // Ensures delete finishes before fetching new files\r\n      setLoadingFiles(false);\r\n    };\r\n\r\n    const fetchVariants = () => {\r\n      setVariants([]);\r\n      dispatch(deleteAllVariants());\r\n      dispatch(getAllVariantsByProductID(id));\r\n    }\r\n    \r\n    setSelectedVariant(\"\");\r\n    // dispatch();\r\n    dispatch(getProducts());\r\n    // dispatch(getAllVariantsByProductID(id));\r\n    \r\n    fetchFiles();\r\n    fetchVariants();\r\n  }, [dispatch, id, location]);\r\n\r\n  useEffect(() => {\r\n    dispatch(deleteAllVariants());\r\n  }, [id])\r\n\r\n  useEffect(() => {\r\n    const productToFind =\r\n      products.length > 0\r\n        ? products.find((product) => {\r\n            return product.ProductID === id;\r\n          })\r\n        : null;\r\n\r\n    setProduct(productToFind);\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n    if (!loadingFiles) {\r\n      const filesFiltered = productFiles.filter(\r\n        (file) => file.ProductID === id\r\n      );\r\n      setFiles(filesFiltered);\r\n    }\r\n  }, [productFiles, loadingFiles]);\r\n\r\n  useEffect(() => {\r\n    if(variantsState?.length > 0){\r\n      setVariants(variantsState);\r\n    }\r\n  }, [variantsState])\r\n\r\n  useEffect(() => {\r\n    if(variants.length > 0){\r\n      const variantToFind = variants?.find((variant) => {\r\n        return variant?.VariantName === selectedVariant;\r\n      })\r\n\r\n      console.log(\"VARIANT FOUND: \", variantToFind);\r\n      console.log(\"Variant price: \", parseFloat(variantToFind?.AdditionalPrice));\r\n      console.log(\"Product price: \", product?.Price);\r\n      console.log(\"Type of variant price: \", typeof variantToFind?.AdditionalPrice);\r\n      console.log(\"Type of product price: \", typeof product?.Price);\r\n\r\n      if(variantToFind){\r\n        setVariantPrice(variantToFind?.AdditionalPrice ? parseFloat(variantToFind?.AdditionalPrice) : 0)\r\n      }\r\n    }\r\n\r\n  }, [selectedVariant]);\r\n\r\n  useEffect(() => {\r\n    if(variants.length > 0){\r\n      setSelectedVariant(variants[0].VariantName ? variants[0].VariantName : \"\");\r\n    } else {\r\n      // setVariants([]);\r\n      setSelectedVariant(\"\");\r\n    }\r\n  }, [variants])\r\n\r\n  // setNumberRating(roundToHalf(product?.Rating));\r\n\r\n  console.log(\"ID: \", id);\r\n  console.log(\"Product: \", product);\r\n\r\n  // console.log(\"Files after fetching:\", files);\r\n  // console.log(\"Variants after fetching: \", variants);\r\n\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [emailMsg, setEmailMsg] = useState(\"\");\r\n\r\n  function importAll(r) {\r\n    let images = {};\r\n    r.keys().map((item, index) => {\r\n      images[item.replace(\"./\", \"\")] = r(item);\r\n    });\r\n    return images;\r\n  }\r\n\r\n  const images = importAll(\r\n    require.context(\"../images\", false, /\\.(png|jpe?g|svg|webp|avif)$/)\r\n  );\r\n\r\n  if (!product) {\r\n    console.log(\"NO SUCH PRODUCTS WITH ID: \" + id);\r\n  }\r\n\r\n  function handleCart(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(\"Total price: \", (parseFloat(product?.Price) + variantPrice));\r\n\r\n    const cartItem = {\r\n      ProductID: product.ProductID,\r\n      UserID: user?.result?.UserID ? user?.result?.UserID : user?.result?.sub,\r\n      SelectedFile: files,\r\n      Title: product.Title,\r\n      Price: (parseFloat(product?.Price) + variantPrice),\r\n      Quantity: quantity,\r\n      Subtotal: ((parseFloat(product?.Price) + variantPrice) * quantity),\r\n      Variant: selectedVariant,\r\n    };\r\n    \r\n    setSelectedVariant(\"\");\r\n    dispatch({ type: \"DELETE_ALL_VARIANTS\" });\r\n\r\n    dispatch(\r\n      createCartItem(\r\n        { ...cartItem },\r\n        user?.result?.UserID ? user?.result?.UserID : user?.result?.sub\r\n      )\r\n    );\r\n    // dispatch(getCartItems());\r\n    navigate(\"/cart\");\r\n  }\r\n\r\n  // function handleDelete() {\r\n  //   dispatch(deleteProduct(id));\r\n  //   navigate(\"/products\");\r\n  // }\r\n\r\n  const functions = { smallImg0, smallImg1, smallImg2, smallImg3 };\r\n\r\n  const doFunction = (num) => {\r\n    const func = functions[`smallImg${num}`];\r\n    return func ? func() : <p>Image not found</p>;\r\n  };\r\n\r\n  const changeVideoToImage = (i) => {\r\n    setImageIndex(i);\r\n    if (isVideoPlaying === true) {\r\n      setIsVideoPlaying(false);\r\n      setTimeout(() => doFunction(i), 150);\r\n    } else {\r\n      doFunction(i);\r\n    }\r\n  };\r\n\r\n  //  const playVideo = () => {\r\n  //     // setI sVideoPlaying(!isVideoPlaying);\r\n  //   };\r\n\r\n  function roundToHalf(num) {\r\n    return Math.round(num * 2) / 2;\r\n  }\r\n\r\n  function sanitizeForURL(str) {\r\n    return str.replace(/[^a-zA-Z0-9-_\\. ]/g, '');\r\n  }\r\n\r\n  function cleanForWhatsAppAndEmail(str) {\r\n    // Replace & with \"and\"\r\n    let cleaned = str.replace(/&/g, 'and');\r\n  \r\n    // Remove unwanted special characters but keep %0A, :, !, ?, and other WhatsApp/email-friendly characters\r\n    cleaned = cleaned.replace(/[^a-zA-Z0-9 @._#%\\-:!?]/g, '');\r\n  \r\n    return cleaned;\r\n  }\r\n  \r\n\r\n  const generateWhatsAppMessage = (totalPrice) => {\r\n    const phoneNumber = \"6289507932832\"; // Replace with merchant's WhatsApp number (use international format)\r\n\r\n    let message = `Halo, saya mau pesan produk:%0A%0A- ${product?.Title} ${\r\n    selectedVariant ? `(${selectedVariant})` : \"\"}- ${quantity} pcs - Rp. ${formatRupiah(totalPrice)}%0A%0A`; // WhatsApp uses %0A for\r\n    // line breaks\r\n\r\n    message += `*Total Harga: Rp. ${formatRupiah(\r\n      totalPrice\r\n    )}*%0A%0ASaya dari negara ${\r\n      user?.result?.Country\r\n    } dan minta produk ini dikirim ke kota ${\r\n      user?.result?.City\r\n    } dengan alamat ${user?.result?.Address} dan postal code ${\r\n      user?.result?.PostalCode\r\n    }.%0A%0ATerima Kasih!`;\r\n\r\n    \r\n\r\n    message = cleanForWhatsAppAndEmail(message);\r\n\r\n    console.log(message);\r\n\r\n    // Generate the WhatsApp URL\r\n    const whatsappUrl = `https://wa.me/${phoneNumber}?text=${message}`;\r\n\r\n    // Redirect to WhatsApp\r\n    window.open(whatsappUrl, \"_blank\");\r\n  };\r\n\r\n  const sendOrder = async (totalPrice) => {\r\n    try {\r\n      setEmailMsg(\"Mohon tunggu, sedang mengirim email...\");\r\n\r\n      // const response = await fetch(\"http://localhost:5000/order/\", {\r\n      //     method: \"POST\",\r\n      //     headers: { \"Content-Type\": \"application/json\" },\r\n      //     body: JSON.stringify({cartItems: cartItems, user: user?.result, totalPrice: totalPrice}),\r\n      // });\r\n      const productItemsArr = [\r\n        { ...product, Price: (parseFloat(product?.Price) + variantPrice), Quantity: quantity, Variant: selectedVariant },\r\n      ];\r\n\r\n      console.log(\"Product Items Array: \", productItemsArr);\r\n\r\n      const response = await api.order({\r\n        cartItems: productItemsArr,\r\n        user: user?.result,\r\n        totalPrice: totalPrice,\r\n      });\r\n\r\n      console.log(response);\r\n\r\n      const data = response.data;\r\n      console.log(data.message);\r\n      alert(data.message);\r\n      setEmailMsg(data.message);\r\n    } catch (error) {\r\n      alert(\"Ada masalah ketika mengirimkan email. Mohon coba lagi.\");\r\n      setEmailMsg(\"Ada masalah ketika mengirimkan email. Mohon coba lagi.\");\r\n      console.error(\"Error sending order:\", error);\r\n    }\r\n  };\r\n\r\n  const handleVariantChange = (event) => {\r\n    setSelectedVariant(event.target.value);\r\n    // console.log(\"Selected:\", event.target.value);\r\n  };\r\n\r\n  function formatRupiah(price) {\r\n    // Convert to fixed 3 decimal places\r\n    let formattedPrice = parseFloat(price).toFixed(3);\r\n\r\n    // Replace thousand separator (, → .)\r\n    return formattedPrice;\r\n  }\r\n\r\n  function calculateMaxHeight(length, width){\r\n    \tif(length < 4){\r\n        return \"117px\";\r\n      }\r\n      \r\n      let maxHeightString;\r\n      let maxHeight = width - (19 * (length - 3));\r\n      \r\n      if(length > 6){\r\n        maxHeight = maxHeight + 19;\r\n        maxHeightString = maxHeight.toString() + \"px\";\r\n        return maxHeightString;\r\n      }\r\n      maxHeightString = maxHeight.toString() + \"px\";\r\n      return maxHeightString;\r\n  }\r\n\r\n  // const [maxHeight, setMaxHeight] = useState(117);\r\n\r\n  // useEffect(() => {\r\n  //   if (files.length > 0) {\r\n  //     const maxPerRow = 5; // Max columns per row\r\n  //     const rows = Math.ceil(files.length / maxPerRow);\r\n  //     setMaxHeight(Math.max(60, 150 / rows)); // Scale height based on row count\r\n  //   }\r\n  // }, [files]);\r\n\r\n  return (\r\n    <>\r\n      <meta charSet=\"UTF-8\" />\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n      <title>Product Details</title>\r\n      <link rel=\"stylesheet\" href=\"styles.css\" />\r\n      <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\r\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"\" />\r\n      <link\r\n        href=\"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200&display=swap\"\r\n        rel=\"stylesheet\"\r\n      />\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css\"\r\n      />\r\n      <section className=\"modal\">\r\n        {/* <button class=\"show-modal\" onClick={() => showButton()}>Show Modal</button> */}\r\n        <span class=\"overlay\" onClick={() => overlayFunc()}></span>\r\n        <div class=\"modal-box\">\r\n          <i\r\n            class=\"fa fa-window-close-o close-icon\"\r\n            aria-hidden=\"true\"\r\n            onClick={() => closeBtnFunc()}\r\n          ></i>\r\n          <i class=\"fa fa-whatsapp whatsapp\" aria-hidden=\"true\"></i>\r\n          <h2>Terkirim</h2>\r\n          <h3>\r\n            Anda akan diarahkan ke akun WhatsApp penjual. Silahkan kirimkan\r\n            pesan WhatsApp ke penjual.\r\n          </h3>\r\n          <div class=\"buttons\">\r\n            <button class=\"close-btn\" onClick={() => closeBtnFunc()}>\r\n              Tutup\r\n            </button>\r\n            <button\r\n              onClick={() => generateWhatsAppMessage(((parseFloat(product?.Price) + variantPrice) * quantity))}\r\n            >\r\n              Kirim ulang\r\n            </button>\r\n          </div>\r\n          <h3 style={{ marginTop: \"10px\" }}>Atau kirim lewat cara lain:</h3>\r\n          {/* <i class=\"fa fa-envelope email-icon\" aria-hidden=\"true\"></i> */}\r\n          <img\r\n            style={{ width: \"100px\", marginTop: \"10px\", marginBottom: \"10px\" }}\r\n            src={images[\"gmail-logo-2.png\"]}\r\n            alt=\"email\"\r\n          />\r\n          <h4>Email</h4>\r\n\r\n          <div class=\"buttons\">\r\n            <button onClick={() => sendOrder(((parseFloat(product?.Price) + variantPrice) * quantity))}>\r\n              Kirim lewat Email\r\n            </button>\r\n          </div>\r\n          {emailMsg.length > 0 && (\r\n            <h4\r\n              style={{\r\n                marginTop: \"10px\",\r\n                fontWeight: \"500\",\r\n                color: \"#000\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {emailMsg}\r\n            </h4>\r\n          )}\r\n        </div>\r\n      </section>\r\n      <Navbar />\r\n      {/* ----- single product details ------- */}\r\n\r\n      {/* <div className=\"loader\"></div> */}\r\n      {/* <div className=\"loader2\"></div> */}\r\n      {product ? (\r\n        <div className=\"small-container single-product\">\r\n          <div className=\"row\">\r\n            <div className=\"col-2\">\r\n              {/* {files.length > 0 ? (\r\n                <img src={files[0].FileData} width=\"100%\" id=\"ProductImg\" />\r\n              ) : (\r\n                <div className=\"loader2\"></div>\r\n              )} */}\r\n\r\n              {product &&\r\n                (product?.Video ? (\r\n                  isVideoPlaying ? (\r\n                    <video crossorigin=\"anonymous\" className=\"video-player\" controls>\r\n                      <source src={product.Video} type=\"video/mp4\" />\r\n                      Your browser does not support the video tag.\r\n                    </video>\r\n                  ) : files.length > 0 ? (\r\n                    <img\r\n                      src={files[imageIndex]?.FileData}\r\n                      width=\"100%\"\r\n                      id=\"ProductImg\"\r\n                      alt=\"\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"loader2\"></div>\r\n                  )\r\n                ) : files.length > 0 ? (\r\n                  <img\r\n                    src={files[imageIndex]?.FileData}\r\n                    width=\"100%\"\r\n                    id=\"ProductImg\"\r\n                    alt=\"\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"loader2\"></div>\r\n                ))}\r\n\r\n              <div className=\"small-img-row\">\r\n                {product && product?.Video && files?.length > 0 && (\r\n                  <div\r\n                    className=\"small-img-col video-container\"\r\n                    onClick={() => setIsVideoPlaying(true)}\r\n                  >\r\n\r\n                    <div class=\"play-icon\"></div>\r\n                    <video crossorigin=\"anonymous\" className=\"bottom-video-player\" preload=\"metadata\">\r\n                        <source src={product?.Video} type=\"video/mp4\" />\r\n                    </video>\r\n                    \r\n                    {/* <VideoThumbnail videoSrc={product?.Video} /> */}\r\n                    \r\n\r\n                  </div>\r\n                )}\r\n\r\n                \r\n\r\n                {files.length > 0 ? (\r\n                  files.map((file, i) => {\r\n                    return (\r\n                      <div className=\"small-img-col\" key={i}>\r\n                        <img\r\n                          src={file?.FileData}\r\n                          width=\"100%\"\r\n                          alt=\"\"\r\n                          className=\"small-img\"\r\n                          onClick={() => \r\n                            file?.FileData && changeVideoToImage(i)\r\n                          }\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div className=\"small-img-col\">\r\n                    <div className=\"loader3\"></div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-2\">\r\n              <p>Frozen Everyday</p>\r\n              <h1>{product?.Title}</h1>\r\n              <h4>Rp. {formatRupiah((parseFloat(product?.Price) + variantPrice) * quantity)}</h4>\r\n              {/* <select>\r\n              <option>Select Size</option>\r\n              <option>XXL</option>\r\n              <option>XL</option>\r\n              <option>Large</option>\r\n              <option>Medium</option>\r\n              <option>Small</option>\r\n          </select> */}\r\n              {variants.length > 0 && (\r\n                <p style={{ marginBottom: \"10px\", fontSize: \"16px\" }}>\r\n                  Pilih varian:{\" \"}\r\n                </p>\r\n              )}\r\n              {variants.length > 0 &&\r\n                variants.map((variant, i) => {\r\n                  return (\r\n                    <span>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"choice\"\r\n                        id={`variant${i}`}\r\n                        checked={selectedVariant === variant.VariantName}\r\n                        value={variant.VariantName}\r\n                        // style={{ marginLeft: i === 0 ? \"0px\" : \"12.5px\" }}\r\n                        style={{ marginRight: \"12.5px\" }}\r\n                        onChange={(e) => handleVariantChange(e)}\r\n                      />\r\n                      <label\r\n                        for={`variant${i}`}\r\n                        // style={{ marginLeft: i === 0 ? \"0px\" : \"12.5px\" }}\r\n                        // style={{ gap: \"50px\" }}\r\n                        style={{ marginRight: \"12.5px\" }}\r\n                      >\r\n                        {variant.VariantName}\r\n                      </label>\r\n                    </span>\r\n                  );\r\n                })}\r\n              <span className=\"input-container2\">\r\n                <p>Kuantitas: </p>\r\n                <input\r\n                  type=\"number\"\r\n                  // defaultValue=\"1\"\r\n                  min=\"1\"\r\n                  value={quantity}\r\n                  id=\"quantity\"\r\n                  onChange={(event) => {\r\n                    return setQuantity(\r\n                      event.target.value < 1 ? 1 : event.target.value\r\n                    );\r\n                  }}\r\n                />\r\n              </span>\r\n              {user ? (\r\n                <span className=\"btn-container\">\r\n                  <span className=\"cart-btn\" onClick={(e) => handleCart(e)}>\r\n                    <i className=\"fa fa-cart-plus\" aria-hidden=\"true\" />{\" \"}\r\n                    Masukkan Keranjang\r\n                  </span>\r\n                  <span\r\n                    className=\"btn\"\r\n                    onClick={() => {\r\n                      showButton();\r\n                      return generateWhatsAppMessage(product?.Price * quantity);\r\n                    }}\r\n                  >\r\n                    Beli Sekarang\r\n                  </span>\r\n                </span>\r\n              ) : (\r\n                <div\r\n                  className=\"sign-in-warning-container\"\r\n                  style={{\r\n                    marginTop: \"50px\",\r\n                    marginBottom: \"70px\",\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                  }}\r\n                >\r\n                  <p\r\n                    className=\"sign-in-warning\"\r\n                    style={{\r\n                      fontSize: \"20px\",\r\n                      padding: \"5px 10px 5px 10px\",\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  >\r\n                    Tolong Sign In untuk Membelikan Makanan Ini!\r\n                  </p>\r\n                  <Link to=\"/account\">\r\n                    <span\r\n                      style={{\r\n                        fontSize: \"16px\",\r\n                        padding: \"7.5px 15px 7.5px 15px\",\r\n                        marginRight: \"20px\",\r\n                      }}\r\n                      className=\"btn\"\r\n                    >\r\n                      Sign In\r\n                    </span>\r\n                  </Link>\r\n                </div>\r\n              )}\r\n\r\n              {/* <h3>Product Details <i class=\"fa fa-indent\"></i></h3>\r\n          <br>\r\n          <p>Give your summer wardrobe a style upgrade with the HRX Men's Active T-shirt. Team it with a pair of shorts for your morning workout or a denims for an evening out with the guys.</p> */}\r\n              <div className=\"rating product-details\">\r\n                {product?.Rating ? (\r\n                  product?.Rating === \"0.00\" ? (\r\n                    <div className=\"rating product-details\" style={{marginBottom: \"40px\"}}>\r\n                      <p\r\n                        style={{\r\n                          fontSize: \"24px\",\r\n                          color: \"#222222\",\r\n                          fontWeight: \"550\",\r\n                          marginRight: \"2px\",\r\n                        }}\r\n                      >\r\n                        Belum ada penilaian\r\n                      </p>\r\n                      <p\r\n                        className=\"rating-num\"\r\n                        style={{ marginLeft: \"2px\", fontSize: \"16px\" }}\r\n                      >\r\n                        ({product?.ItemsSold ? product?.ItemsSold : 0} terjual)\r\n                      </p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"rating product-details\">\r\n                      {(() => {\r\n                        let td = [];\r\n                        for (\r\n                          let i = 0;\r\n                          i < Math.floor(roundToHalf(product?.Rating));\r\n                          i++\r\n                        ) {\r\n                          td.push(<i className=\"fa fa-star\" key={i}></i>);\r\n                        }\r\n                        return td;\r\n                      })()}\r\n\r\n                      {roundToHalf(product?.Rating) % 1 !== 0 && (\r\n                        <i class=\"fa fa-star-half-o\"></i>\r\n                      )}\r\n\r\n                      {(() => {\r\n                        let td = [];\r\n                        for (\r\n                          let i = 0;\r\n                          i < 5 - Math.ceil(roundToHalf(product?.Rating));\r\n                          i++\r\n                        ) {\r\n                          td.push(<i className=\"fa fa-star-o\"></i>);\r\n                        }\r\n                        return td;\r\n                      })()}\r\n                      <p className=\"rating-num\">({product?.ItemsSold})</p>\r\n                    </div>\r\n                  )\r\n                ) : (\r\n                  <div className=\"rating product-details\">\r\n                    <i className=\"fa fa-star-o\"></i>\r\n                    <i className=\"fa fa-star-o\"></i>\r\n                    <i className=\"fa fa-star-o\"></i>\r\n                    <i className=\"fa fa-star-o\"></i>\r\n                    <i className=\"fa fa-star-o\"></i>\r\n                    <p className=\"rating-num\">\r\n                      ({product?.ItemsSold ? product?.ItemsSold : 0})\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"loader\"></div>\r\n      )}\r\n\r\n      {/*       \r\n      <div className=\"small-container\">\r\n        <div className=\"row row-2\">\r\n          <h2>Produk Terkait</h2>\r\n          <p>Lihat Lebih Banyak</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"small-container\">\r\n        <div className=\"row products\">\r\n          <div className=\"col-4 related\">\r\n            <div className=\"layer-container\">\r\n              <a href=\"product-details.html\">\r\n                <img src={images[\"sosis-ayam.webp\"]} alt=\"\" />\r\n              </a>\r\n              <a href=\"product-details.html\">\r\n                <div className=\"layer\">\r\n                  <p>Sosis ayam dengan bahan-bahan terbaik!</p>\r\n                </div>\r\n              </a>\r\n            </div>\r\n            <a href=\"product-details.html\">\r\n              <h4 className=\"place-name\">\r\n                CHAMP SOSIS AYAM 375gr (Chicken Sausages)\r\n              </h4>\r\n            </a>\r\n            <div className=\"rating\">\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star-o\" aria-hidden=\"true\" />\r\n              <p>• 31 terjual</p>\r\n            </div>\r\n            <p className=\"place-location\">Rp. 20.000</p>\r\n          </div>\r\n          <div className=\"col-4 related\">\r\n            <div className=\"layer-container\">\r\n              <a href=\"product-details2.html\">\r\n                <img src={images[\"fish-dumpling.webp\"]} alt=\"\" />\r\n              </a>\r\n              <a href=\"product-details2.html\">\r\n                <div className=\"layer\">\r\n                  <p>Steam Dumplings!</p>\r\n                </div>\r\n              </a>\r\n            </div>\r\n            <a href=\"product-details2.html\">\r\n              <h4 className=\"place-name\">CEDEA Fish Dumpling Cheese 500gr</h4>\r\n            </a>\r\n            <div className=\"rating\">\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star-half-o\" aria-hidden=\"true\" />\r\n              <p>• 29 terjual</p>\r\n            </div>\r\n            <p className=\"place-location\">Rp. 30.500</p>\r\n          </div>\r\n          <div className=\"col-4 related\">\r\n            <div className=\"layer-container\">\r\n              <a href=\"product-details3.html\">\r\n                <img src={images[\"chicken-nugget.webp\"]} alt=\"\" />\r\n              </a>\r\n              <a href=\"product-details3.html\">\r\n                <div className=\"layer\">\r\n                  <p>Chicken nugget terbaik!</p>\r\n                </div>\r\n              </a>\r\n            </div>\r\n            <a href=\"product-details3.html\">\r\n              <h4 className=\"place-name\">\r\n                Kanzler Crispy Chicken Nugget 450gr\r\n              </h4>\r\n            </a>\r\n            <div className=\"rating\">\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star-half-o\" />\r\n              <i className=\"fa fa-star-o\" aria-hidden=\"true\" />\r\n              <p>• 210 terjual</p>\r\n            </div>\r\n            <p className=\"place-location\">Rp. 41.500</p>\r\n          </div>\r\n          <div className=\"col-4 related\">\r\n            <div className=\"layer-container\">\r\n              <a href=\"product-details4.html\">\r\n                <img src={images[\"fiesta-french-fries.webp\"]} alt=\"\" />\r\n              </a>\r\n              <a href=\"product-details4.html\">\r\n                <div className=\"layer\">\r\n                  <p>French fries yang lembut dan lezat!</p>\r\n                </div>\r\n              </a>\r\n            </div>\r\n            <a href=\"product-details4.html\">\r\n              <h4 className=\"place-name\">\r\n                FIESTA FRENCH FRIES SHOESTRING 500gr...\r\n              </h4>\r\n            </a>\r\n            <div className=\"rating\">\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star\" />\r\n              <i className=\"fa fa-star-o\" />\r\n              <i className=\"fa fa-star-o\" aria-hidden=\"true\" />\r\n              <p>• 24 terjual</p>\r\n            </div>\r\n            <p className=\"place-location\">Rp. 23.000</p>\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n      {/* - Footer  */}\r\n      <div style={{marginTop: \"50px\"}}></div>\r\n      <Footer  />\r\n      {/* JS for toggle menu */}\r\n      {/* js for product gallery */}\r\n    </>\r\n  );\r\n\r\n  function smallImg0() {\r\n    // setIsVideoPlaying(false);\r\n\r\n    let ProductImg = document.getElementById(\"ProductImg\");\r\n    let SmallImg = document.getElementsByClassName(\"small-img\"); //an array\r\n\r\n    if (!SmallImg[0].src) {\r\n      return;\r\n    }\r\n\r\n    ProductImg.src = SmallImg[0].src;\r\n  }\r\n\r\n  function smallImg1() {\r\n    // setIsVideoPlaying(false);\r\n\r\n    let ProductImg = document.getElementById(\"ProductImg\");\r\n    let SmallImg = document.getElementsByClassName(\"small-img\"); //an array\r\n\r\n    if (!SmallImg[1].src) {\r\n      return;\r\n    }\r\n\r\n    ProductImg.src = SmallImg[1].src;\r\n  }\r\n\r\n  function smallImg2() {\r\n    // setIsVideoPlaying(false);\r\n\r\n    let ProductImg = document.getElementById(\"ProductImg\");\r\n    let SmallImg = document.getElementsByClassName(\"small-img\"); //an array\r\n\r\n    if (!SmallImg[2].src) {\r\n      return;\r\n    }\r\n\r\n    ProductImg.src = SmallImg[2].src;\r\n  }\r\n\r\n  function smallImg3() {\r\n    // setIsVideoPlaying(false);\r\n\r\n    let ProductImg = document.getElementById(\"ProductImg\");\r\n    let SmallImg = document.getElementsByClassName(\"small-img\"); //an array\r\n\r\n    if (!SmallImg[3].src) {\r\n      return;\r\n    }\r\n\r\n    ProductImg.src = SmallImg[3].src;\r\n  }\r\n\r\n  function showButton() {\r\n    const section = document.querySelector(\"section\"),\r\n      overlay = document.querySelector(\".overlay\"),\r\n      showBtn = document.querySelector(\".show-modal\"),\r\n      closeBtn = document.querySelector(\".close-btn\");\r\n\r\n    setEmailMsg(\"\");\r\n    section.classList.add(\"active\");\r\n    section.style.zIndex = \"8\";\r\n  }\r\n\r\n  function overlayFunc() {\r\n    const section = document.querySelector(\"section\"),\r\n      overlay = document.querySelector(\".overlay\"),\r\n      showBtn = document.querySelector(\".show-modal\"),\r\n      closeBtn = document.querySelector(\".close-btn\");\r\n\r\n    setEmailMsg(\"\");\r\n    section.classList.remove(\"active\");\r\n    section.style.zIndex = \"-8\";\r\n  }\r\n\r\n  function closeBtnFunc() {\r\n    const section = document.querySelector(\"section\"),\r\n      overlay = document.querySelector(\".overlay\"),\r\n      showBtn = document.querySelector(\".show-modal\"),\r\n      closeBtn = document.querySelector(\".close-btn\");\r\n\r\n    setEmailMsg(\"\");\r\n    section.classList.remove(\"active\");\r\n    section.style.zIndex = \"-8\";\r\n  }\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}